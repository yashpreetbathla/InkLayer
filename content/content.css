/* ScreenAnnotate — all selectors scoped to avoid leaking into host page */

#screen-annotate-toolbar {
  position: fixed !important;
  top: 20px !important;
  right: 20px !important;
  width: 224px !important;
  background: #1a202c !important;
  border-radius: 12px !important;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5) !important;
  z-index: 2147483647 !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
  font-size: 13px !important;
  color: #e2e8f0 !important;
  user-select: none !important;
  overflow: hidden !important;
  box-sizing: border-box !important;
}

#screen-annotate-toolbar * {
  box-sizing: border-box !important;
}

/* ── Drag handle ─────────────────────────────────────────── */

.sa-drag-handle {
  display: flex !important;
  align-items: center !important;
  padding: 8px 12px !important;
  background: #2d3748 !important;
  cursor: grab !important;
  border-bottom: 1px solid #4a5568 !important;
  gap: 6px !important;
}

.sa-drag-handle:active {
  cursor: grabbing !important;
}

.sa-drag-dots {
  font-size: 16px !important;
  color: #718096 !important;
  line-height: 1 !important;
}

.sa-title {
  flex: 1 !important;
  font-weight: 600 !important;
  font-size: 13px !important;
  color: #e2e8f0 !important;
  white-space: nowrap !important;
}

/* Minimize / close icon buttons in drag handle */
.sa-icon-btn {
  background: none !important;
  border: none !important;
  color: #718096 !important;
  cursor: pointer !important;
  font-size: 15px !important;
  font-weight: 700 !important;
  padding: 1px 6px !important;
  border-radius: 4px !important;
  line-height: 1 !important;
  transition: background 0.15s, color 0.15s !important;
  flex-shrink: 0 !important;
}

.sa-icon-btn:hover {
  background: #4a5568 !important;
  color: #e2e8f0 !important;
}

.sa-close-btn:hover {
  background: #e53e3e !important;
  color: #fff !important;
}

/* Minimized state — only drag handle visible */
#screen-annotate-toolbar.sa-minimized {
  width: fit-content !important;
  min-width: unset !important;
}

#screen-annotate-toolbar.sa-minimized .sa-drag-handle {
  border-bottom: none !important;
  border-radius: 10px !important;
}

/* ── Sections ────────────────────────────────────────────── */

.sa-section {
  padding: 10px 12px !important;
  border-bottom: 1px solid #2d3748 !important;
}

.sa-section:last-child {
  border-bottom: none !important;
}

.sa-section-row {
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
}

.sa-label {
  font-size: 10px !important;
  color: #718096 !important;
  text-transform: uppercase !important;
  letter-spacing: 0.5px !important;
  min-width: 34px !important;
  font-weight: 600 !important;
}

/* ── Tool grid ───────────────────────────────────────────── */

.sa-tools {
  display: grid !important;
  grid-template-columns: repeat(5, 1fr) !important;
  gap: 4px !important;
}

.sa-tool-btn {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  padding: 6px 2px !important;
  background: #2d3748 !important;
  border: 1px solid transparent !important;
  border-radius: 6px !important;
  cursor: pointer !important;
  color: #a0aec0 !important;
  transition: background 0.15s, color 0.15s, border-color 0.15s !important;
  gap: 3px !important;
}

.sa-tool-btn:hover {
  background: #4a5568 !important;
  color: #e2e8f0 !important;
}

.sa-tool-btn.sa-active {
  background: #2b6cb0 !important;
  border-color: #63b3ed !important;
  color: #fff !important;
}

.sa-tool-icon {
  font-size: 14px !important;
  line-height: 1 !important;
}

.sa-tool-label {
  font-size: 9px !important;
  font-weight: 600 !important;
  text-transform: uppercase !important;
  letter-spacing: 0.3px !important;
}

/* ── Color controls ──────────────────────────────────────── */

.sa-color-picker {
  width: 26px !important;
  height: 26px !important;
  padding: 0 !important;
  border: 2px solid #4a5568 !important;
  border-radius: 5px !important;
  cursor: pointer !important;
  background: none !important;
  flex-shrink: 0 !important;
}

.sa-preset-colors {
  display: flex !important;
  gap: 4px !important;
  flex-wrap: wrap !important;
  flex: 1 !important;
}

.sa-preset-color {
  width: 18px !important;
  height: 18px !important;
  border: none !important;
  border-radius: 50% !important;
  cursor: pointer !important;
  padding: 0 !important;
  transition: transform 0.12s !important;
  flex-shrink: 0 !important;
}

.sa-preset-color:hover {
  transform: scale(1.25) !important;
}

/* ── Brush size slider ───────────────────────────────────── */

.sa-range {
  flex: 1 !important;
  height: 4px !important;
  -webkit-appearance: none !important;
  appearance: none !important;
  background: #4a5568 !important;
  border-radius: 2px !important;
  outline: none !important;
  cursor: pointer !important;
}

.sa-range::-webkit-slider-thumb {
  -webkit-appearance: none !important;
  width: 14px !important;
  height: 14px !important;
  border-radius: 50% !important;
  background: #3182ce !important;
  cursor: pointer !important;
  border: 2px solid #fff !important;
}

.sa-size-val {
  font-size: 11px !important;
  color: #a0aec0 !important;
  min-width: 18px !important;
  text-align: right !important;
}

/* ── Action buttons ──────────────────────────────────────── */

.sa-actions {
  display: flex !important;
  flex-wrap: wrap !important;
  gap: 4px !important;
}

.sa-action-btn {
  flex: 1 1 calc(50% - 4px) !important;
  padding: 6px 4px !important;
  background: #2d3748 !important;
  border: 1px solid #4a5568 !important;
  border-radius: 6px !important;
  cursor: pointer !important;
  color: #a0aec0 !important;
  font-size: 11px !important;
  font-family: inherit !important;
  font-weight: 500 !important;
  transition: background 0.15s, color 0.15s !important;
  text-align: center !important;
  white-space: nowrap !important;
}

.sa-action-btn:hover {
  background: #4a5568 !important;
  color: #e2e8f0 !important;
}

.sa-action-primary {
  background: #2b6cb0 !important;
  border-color: #3182ce !important;
  color: #bee3f8 !important;
}

.sa-action-primary:hover {
  background: #3182ce !important;
  color: #fff !important;
}

/* ── Canvas (style backup — also set via JS) ─────────────── */

#screen-annotate-canvas {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  pointer-events: none !important;
  z-index: 2147483646 !important;
  cursor: crosshair !important;
}
